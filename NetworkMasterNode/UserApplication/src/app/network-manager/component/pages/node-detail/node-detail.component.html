<nav class="navbar navbar-expand navbar-dark bg-dark">
	<a class="navbar-brand">Network Manager</a>
	<button aria-controls="navbarData" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"
			data-target="#navbarData" data-toggle="collapse" type="button">
		<span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarData">
		<ul class="navbar-nav mr-auto">
			<li class="nav-item active">
				<a class="nav-link" href="/home">Nodes <span class="sr-only">(current)</span></a>
			</li>
		</ul>
	</div>
</nav>

<ng-container *ngIf="node != null; else elseTemplate">
	<br>
	<div *ngIf='node.type == "CAMERA"' class="row justify-content-center">
		<app-live-video-player [streamUrl]="'http://' + node.ipAddress + ':8088/janus'"></app-live-video-player>
	</div>
	<div class="container">
		<div class="card text-center">
			<div class="card-header">
				Node Information
			</div>
			<div class="card-body">
				<h4 class="card-title">
					{{node.name}}
					<img class="edit-button" (click)="changeName()" src="assets/pencil-alt.png" />
				</h4>
				<br>
				<table class="table">
					<thead style="text-align: center">
					<tr>
						<td><b>Public IP</b></td>
						<td><b>Type</b></td>
						<td><b>Network Name</b></td>
						<td><b>Battery Percentage</b></td>
					</tr>
					</thead>
					<tbody>
					<tr style="text-align: center">
						<td>{{node.ipAddress}}</td>
						<td>{{node.type}}</td>
						<td>
							{{node.networkName}}
							<img class="edit-button" (click)="changeNetworkName()" src="assets/pencil-alt.png" />
						</td>
						<td>{{node.batteryPercentage}}</td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</ng-container>
<ng-template #elseTemplate>
	<p>Loading ...</p>
</ng-template>
